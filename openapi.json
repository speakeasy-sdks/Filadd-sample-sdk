{"openapi": "3.1.0", "info": {"title": "FastAPI", "version": "0.1.0"}, "paths": {"/api/kyc/colombia/verify/": {"put": {"tags": ["KYC"], "summary": "Verify Colombia User Data", "operationId": "verify_colombia_user_data", "parameters": [{"name": "X-UserId", "in": "header", "required": true, "schema": {"type": "integer", "title": "X-Userid"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateColombiaUserDataRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/kyc/brazil/verify/": {"put": {"tags": ["KYC"], "summary": "Verify Brazil User Data", "operationId": "verify_brazil_user_data", "parameters": [{"name": "X-UserId", "in": "header", "required": true, "schema": {"type": "integer", "title": "X-Userid"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateBrazilUserDataRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/user/me/": {"get": {"tags": ["User Me"], "summary": "Get Expanded User Me", "operationId": "get_expanded_user_me", "parameters": [{"name": "X-UserId", "in": "header", "required": true, "schema": {"type": "integer", "title": "X-Userid"}}, {"name": "X-Api-Version", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Api-Version"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"anyOf": [{"$ref": "#/components/schemas/ExpandedUserSchema"}, {"$ref": "#/components/schemas/LegacyExpandedUserResponse"}], "title": "Response Get Expanded User Me"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["User Me"], "summary": "Update User Data", "operationId": "update_user_data", "parameters": [{"name": "X-UserId", "in": "header", "required": true, "schema": {"type": "integer", "title": "X-Userid"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdateUserDataRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserSchema"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/user/me/releases/": {"get": {"tags": ["User Me"], "summary": "Get Expanded User Releases", "operationId": "get_expanded_user_releases", "parameters": [{"name": "X-UserId", "in": "header", "required": true, "schema": {"type": "integer", "title": "X-Userid"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/ExpandedReleaseSchema"}, "title": "Response Get Expanded User Releases"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/whatsapp/invites/course/{course_slug}/": {"get": {"tags": ["WhatsApp"], "summary": "Get Course Whatsapp Invite Links", "operationId": "get_course_whatsapp_links", "parameters": [{"name": "course_slug", "in": "path", "required": true, "schema": {"type": "string", "title": "Course Slug"}}, {"name": "X-UserId", "in": "header", "required": true, "schema": {"type": "integer", "title": "X-Userid"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/whatsapp/queue/users/add/push/": {"post": {"tags": ["WhatsApp"], "summary": "Push User To Whatsapp Addition Queue", "operationId": "push_user_to_whatsapp_addition_queue", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PushUserToWhatsAppAdditionQueueRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/user/data/count/": {"get": {"tags": ["User data"], "summary": "Get User Count", "operationId": "get_user_count", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserCountResponse"}}}}}}}, "/api/user/data/": {"post": {"tags": ["User data"], "summary": "Get User Data", "operationId": "get_user_data", "parameters": [{"name": "expands", "in": "query", "required": false, "schema": {"type": "array", "items": {"$ref": "#/components/schemas/UserDataExpansion"}, "default": [], "title": "Expands"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GetUserDataRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"anyOf": [{"$ref": "#/components/schemas/UserSchema"}, {"$ref": "#/components/schemas/ExpandedUserSchema"}], "title": "Response Get User Data"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/user/data/bulk/": {"post": {"tags": ["User data"], "summary": "Get Bulk Users Data", "operationId": "get_bulk_users_data", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/GetBulkUsersDataRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/UserSchema"}, "type": "array", "title": "Response Get Bulk Users Data"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/user/data/internal/{user_id}/": {"patch": {"tags": ["User data"], "summary": "Update User Internal Field", "operationId": "update_user_internal_field", "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "User Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdateUserInternalFieldRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserSchema"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/healthcheck/": {"get": {"tags": ["Healthcheck"], "summary": "Healthcheck", "operationId": "healthcheck_api_healthcheck__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"ColombiaAddressData": {"properties": {"department": {"type": "string", "title": "Department"}, "city": {"type": "string", "title": "City"}, "description": {"type": "string", "title": "Description"}, "zip_code": {"type": "integer", "title": "Zip Code"}}, "additionalProperties": false, "type": "object", "required": ["department", "city", "description", "zip_code"], "title": "ColombiaAddressData"}, "ColombiaIdentificationData": {"properties": {"type": {"type": "string", "title": "Type"}, "number": {"type": "string", "title": "Number"}}, "additionalProperties": false, "type": "object", "required": ["type", "number"], "title": "ColombiaIdentificationData"}, "CreateBrazilUserDataRequest": {"properties": {"cpf": {"type": "string", "title": "Cpf"}}, "additionalProperties": false, "type": "object", "required": ["cpf"], "title": "CreateBrazilUserDataRequest"}, "CreateColombiaUserDataRequest": {"properties": {"first_name": {"type": "string", "title": "First Name"}, "last_name": {"type": "string", "title": "Last Name"}, "address": {"$ref": "#/components/schemas/ColombiaAddressData"}, "identification": {"$ref": "#/components/schemas/ColombiaIdentificationData"}}, "additionalProperties": false, "type": "object", "required": ["first_name", "last_name", "address", "identification"], "title": "CreateColombiaUserDataRequest"}, "ExpandedCourseSchema": {"properties": {"id": {"type": "integer", "title": "Id"}, "short_slug": {"type": "string", "title": "Short Slug"}, "slug": {"type": "string", "title": "Slug"}, "index_in_subject": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Index In Subject"}, "title": {"type": "string", "title": "Title"}, "short_title": {"type": "string", "title": "Short Title"}, "category": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Category"}, "name_in_subject": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name In Subject"}, "breadcrum_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Breadcrum Name"}, "description": {"type": "string", "title": "Description"}, "status": {"type": "string", "title": "Status"}, "geo_id": {"type": "integer", "title": "Geo Id"}, "simulations_active": {"type": "integer", "title": "Simulations Active"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "geo": {"$ref": "#/components/schemas/GeoSchema"}}, "type": "object", "required": ["id", "short_slug", "slug", "index_in_subject", "title", "short_title", "category", "name_in_subject", "breadcrum_name", "description", "status", "geo_id", "simulations_active", "created_at", "geo"], "title": "ExpandedCourseSchema"}, "ExpandedReleaseSchema": {"properties": {"id": {"type": "integer", "title": "Id"}, "user_id": {"type": "integer", "title": "User Id"}, "af_course_id": {"type": "integer", "title": "Af Course Id"}, "af_course_membership_id": {"type": "integer", "title": "Af Course Membership Id"}, "active": {"type": "boolean", "title": "Active"}, "data_verification_done": {"type": "boolean", "title": "Data Verification Done"}, "deactivated_by_professor": {"type": "boolean", "title": "Deactivated By Professor"}, "private": {"type": "boolean", "title": "Private"}, "completed_upgrade_cta": {"type": "boolean", "title": "Completed Upgrade Cta"}, "onboarding_form_completed_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Onboarding Form Completed At"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}, "released_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Released At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "deleted_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Deleted At"}, "course": {"$ref": "#/components/schemas/ExpandedCourseSchema"}, "membership": {"$ref": "#/components/schemas/MembershipSchema"}}, "type": "object", "required": ["id", "user_id", "af_course_id", "af_course_membership_id", "active", "data_verification_done", "deactivated_by_professor", "private", "completed_upgrade_cta", "onboarding_form_completed_at", "expires_at", "released_at", "created_at", "updated_at", "deleted_at", "course", "membership"], "title": "ExpandedReleaseSchema"}, "ExpandedUserSchema": {"properties": {"id": {"type": "integer", "title": "Id"}, "short_slug": {"type": "string", "title": "Short Slug"}, "name": {"type": "string", "title": "Name"}, "last_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Name"}, "email": {"type": "string", "title": "Email"}, "phone_number": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone Number"}, "internal": {"type": "boolean", "title": "Internal"}, "role": {"$ref": "#/components/schemas/UserRole"}, "url_avatar": {"type": "string", "title": "Url Avatar"}, "balance": {"type": "number", "title": "Balance"}, "af_professor_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Af Professor Id"}, "releases": {"items": {"$ref": "#/components/schemas/ExpandedReleaseSchema"}, "type": "array", "title": "Releases"}, "fullname": {"type": "string", "title": "Fullname", "readOnly": true}, "is_professor": {"type": "boolean", "title": "Is Professor", "readOnly": true}}, "type": "object", "required": ["id", "short_slug", "name", "last_name", "email", "phone_number", "internal", "role", "url_avatar", "balance", "af_professor_id", "releases", "fullname", "is_professor"], "title": "ExpandedUserSchema"}, "GeoSchema": {"properties": {"id": {"type": "integer", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "country": {"type": "string", "title": "Country"}, "a1code": {"type": "string", "title": "A1Code"}, "level": {"type": "string", "title": "Level"}}, "type": "object", "required": ["id", "name", "country", "a1code", "level"], "title": "GeoSchema"}, "GetBulkUsersDataRequest": {"properties": {"field": {"$ref": "#/components/schemas/UserField"}, "values": {"items": {"anyOf": [{"type": "integer"}, {"type": "string"}]}, "type": "array", "title": "Values"}}, "additionalProperties": false, "type": "object", "required": ["field", "values"], "title": "GetBulkUsersDataRequest"}, "GetUserDataRequest": {"properties": {"field": {"$ref": "#/components/schemas/UserField"}, "value": {"anyOf": [{"type": "integer"}, {"type": "string"}], "title": "Value"}}, "additionalProperties": false, "type": "object", "required": ["field", "value"], "title": "GetUserDataRequest"}, "GroupType": {"type": "string", "enum": ["course", "lives"], "title": "GroupType"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "LegacyExpandedUserResponse": {"properties": {"user": {"$ref": "#/components/schemas/ExpandedUserSchema"}}, "type": "object", "required": ["user"], "title": "LegacyExpandedUserResponse"}, "MembershipSchema": {"properties": {"id": {"type": "integer", "title": "Id"}, "title": {"type": "string", "title": "Title"}, "category": {"type": "string", "title": "Category"}, "price": {"type": "integer", "title": "Price"}, "previous_price": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Previous Price"}, "currency_id": {"type": "integer", "title": "Currency Id"}, "membership_time": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Membership Time"}, "expiration_date": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Expiration Date"}, "wapp_active": {"type": "boolean", "title": "Wapp Active"}, "application_fee_percentage": {"type": "integer", "title": "Application Fee Percentage"}, "app_fee_for_professor_coupon": {"type": "integer", "title": "App Fee For Professor Coupon"}, "max_fixed_installments": {"type": "integer", "title": "Max Fixed Installments"}}, "type": "object", "required": ["id", "title", "category", "price", "previous_price", "currency_id", "membership_time", "expiration_date", "wapp_active", "application_fee_percentage", "app_fee_for_professor_coupon", "max_fixed_installments"], "title": "MembershipSchema"}, "PushUserToWhatsAppAdditionQueueRequest": {"properties": {"group_name": {"type": "string", "title": "Group Name"}, "group_type": {"$ref": "#/components/schemas/GroupType"}, "user_id": {"type": "integer", "title": "User Id"}, "release_id": {"type": "integer", "title": "Release Id"}}, "additionalProperties": false, "type": "object", "required": ["group_name", "group_type", "user_id", "release_id"], "title": "PushUserToWhatsAppAdditionQueueRequest"}, "UpdateUserDataRequest": {"properties": {"nombre": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Nombre"}, "apellido": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Apellido"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "phone_number": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone Number"}, "city": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "City"}, "address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address"}}, "additionalProperties": false, "type": "object", "title": "UpdateUserDataRequest"}, "UpdateUserInternalFieldRequest": {"properties": {"internal": {"type": "boolean", "title": "Internal"}}, "additionalProperties": false, "type": "object", "required": ["internal"], "title": "UpdateUserInternalFieldRequest"}, "UserCountResponse": {"properties": {"count": {"type": "integer", "title": "Count"}}, "type": "object", "required": ["count"], "title": "UserCountResponse"}, "UserDataExpansion": {"type": "string", "const": "releases", "title": "UserDataExpansion"}, "UserField": {"type": "string", "enum": ["id", "slug", "email"], "title": "UserField"}, "UserRole": {"type": "string", "enum": ["Administrador", "Alumno", "Superestudiante", "AfSynchronizer", "GiftProvider"], "title": "UserRole"}, "UserSchema": {"properties": {"id": {"type": "integer", "title": "Id"}, "short_slug": {"type": "string", "title": "Short Slug"}, "name": {"type": "string", "title": "Name"}, "last_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Name"}, "email": {"type": "string", "title": "Email"}, "phone_number": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone Number"}, "internal": {"type": "boolean", "title": "Internal"}, "role": {"$ref": "#/components/schemas/UserRole"}, "url_avatar": {"type": "string", "title": "Url Avatar"}, "balance": {"type": "number", "title": "Balance"}, "af_professor_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Af Professor Id"}, "fullname": {"type": "string", "title": "Fullname", "readOnly": true}, "is_professor": {"type": "boolean", "title": "Is Professor", "readOnly": true}}, "type": "object", "required": ["id", "short_slug", "name", "last_name", "email", "phone_number", "internal", "role", "url_avatar", "balance", "af_professor_id", "fullname", "is_professor"], "title": "UserSchema"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}}}
